max_iterations: 100
log_level: "INFO"
random_seed: 42
diff_based_evolution: true
max_code_length: 12000

llm:
  models:
    - name: "gpt-5.1"
      weight: 1.0
  api_base: "https://api.openai.com/v1"
  api_key: null  # falls back to OPENAI_API_KEY env var
  temperature: 0.7
  top_p: 0.95
  max_tokens: 8192
  timeout: 120
  retries: 3
  retry_delay: 5

prompt:
  system_message: |
    You are evolving a BM25 ranking function for BRIGHT. Focus on improving the psychology split without regressing strong domains, and avoid making weak math splits worse.
    Optimize ranking metrics (ndcg@10, map, mrr, precision@10, recall@10). Keep the BM25 interface compatible and avoid adding extra dependencies.
  evaluator_system_message: "You review candidate ranking code for quality and correctness."
  num_top_programs: 3
  num_diverse_programs: 2
  use_template_stochasticity: true
  include_artifacts: true

database:
  in_memory: true
  population_size: 200
  archive_size: 50
  num_islands: 3
  migration_interval: 20
  migration_rate: 0.1
  feature_dimensions:
    - "complexity"
    - "diversity"
  feature_bins: 10
  log_prompts: true

evaluator:
  timeout: 180
  max_retries: 1
  cascade_evaluation: false
  parallel_evaluations: 2

evolution_trace:
  enabled: true
  format: "jsonl"
  include_code: false
  include_prompts: false
